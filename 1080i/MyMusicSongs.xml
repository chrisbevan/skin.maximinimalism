<?xml version="1.0" encoding="UTF-8"?>
<window>
    <defaultcontrol always="false">9000</defaultcontrol>
    <allowoverlay>yes</allowoverlay>
	<onunload>Skin.SetString(showRecentMusicItems,true)</onunload>
	<previouswindow>home</previouswindow>
    <controls>
        <include>globalBackground</include>
        <!--page container group-->
        <control type="group">
            <!--window fader-->
            <animation type="conditional" condition="window.next(0) | window.next(1)">
                <effect type="fade" start="100" end="0" time="300" />
            </animation>
            <!--shift page for certain modal dialogs-->
            <include>modalDialogContentShift</include>
            <!--content provider-->
            <control type="group">
                <posx>0</posx>
                <posy>0</posy>
                <!--main menu-->
                <control type="group">
                    <posx>col-1-begin</posx>
                    <posy>row-2-begin</posy>
                    <include>dateTime</include>
                    <control type="list" id="9000">
                        <posx>0</posx>
                        <posy>180</posy>
                        <width>3-col</width>
                        <height>12-row</height>
                        <orientation>vertical</orientation>
                        <onleft>62</onleft>
                        <onright>9999</onright>
                        <itemlayout width="4-col" height="43">
                            <control type="label">
                                <posx>0</posx>
                                <posy>0</posy>
                                <width>3-col-gutter</width>
                                <font>menuTitle</font>
                                <info>ListItem.Label</info>
                                <textcolor>unselected</textcolor>
                            </control>
                        </itemlayout>
                        <focusedlayout width="4-col" height="43">
                            <control type="label">
                                <visible>Control.HasFocus(9000)</visible>
                                <posx>0</posx>
                                <posy>0</posy>
                                <width>3-col-gutter</width>
                                <font>menuTitle</font>
                                <label>$INFO[ListItem.Label]</label>
                                <textcolor>selected</textcolor>
                            </control>
                            <control type="label">
                                <visible>!Control.HasFocus(9000)</visible>
                                <posx>0</posx>
                                <posy>0</posy>
                                <width>3-col-gutter</width>
                                <font>menuTitle</font>
                                <label>$INFO[ListItem.Label]</label>
                                <textcolor>unselected</textcolor>
                            </control>
                        </focusedlayout>
                        <content>
                            <item id="26">
                                <visible>Player.HasAudio</visible>
                                <label>31136</label>
                                <label2></label2>
                                <onclick>activateWindow(5001)</onclick>
                            </item>
                            <item id="25">
                                <visible>System.HasMediaDVD</visible>
                                <label>341</label>
                                <label2></label2>
                                <onclick>XBMC.PlayDVD()</onclick>
                            </item>
							<item id="27">
                                <visible>System.HasMediaDVD</visible>
                                <label>31135</label>
                                <label2></label2>
                                <onclick>EjectTray()</onclick>
                            </item>
                            <item id="1">
                                <label>31005</label>
                                <label2></label2>
                                <onclick>ActivateWindow(MusicLibrary)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,true)</onclick>
                            </item>
							<!--radio (PVR only)-->
                            <item id="27">
                                <visible>System.GetBool(pvrmanager.enabled)</visible>
                                <label>19021</label>
                                <label2></label2>
                                <onclick>ActivateWindowAndFocus(pvr, 33,0, 9999,1)</onclick>
                            </item>
                            <item id="2">
                                <visible>Library.HasContent(Music)</visible>
                                <label>133</label>
                                <label2></label2>
                                <onclick>ReplaceWindow(MusicLibrary,Artists,return)</onclick>
								<onclick>Control.SetFocus(53)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                            </item>
                            <item id="3">
                                <visible>Library.HasContent(Music)</visible>
                                <label>132</label>
                                <label2></label2>
                                <onclick>ReplaceWindow(MusicLibrary,Albums,return)</onclick>
								<onclick>Control.SetFocus(55)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                            </item>
                            <item id="4">
                                <visible>Library.HasContent(Music)</visible>
                                <label>135</label>
                                <label2></label2>
                                <onclick>ReplaceWindow(MusicLibrary,Genres,return)</onclick>
								<onclick>Control.SetFocus(53)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                            </item>
                            <item id="23">
                                <visible>Library.HasContent(Music)</visible>
                                <label>271</label>
                                <label2></label2>
                                <onclick>ReplaceWindow(MusicLibrary,Top100,return)</onclick>
								<onclick>Control.SetFocus(51)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                            </item>
                            <item id="5">
                                <label>136</label>
                                <label2></label2>
                                <onclick>ReplaceWindow(MusicFiles,Playlists,return)</onclick>
								<onclick>Control.SetFocus(51)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                            </item>
                            <!--custom music addons-->
                            <item id="6">
                                <visible>!isempty(Skin.String(customMusicAddon1))</visible>
                                <label>$VAR[customMusicAddon1Title]</label>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon1Type),audioAddon)">RunAddon($INFO[Skin.String(customMusicAddon1)])</onclick>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon1Type),audioPlaylist)">ActivateWindow(MusicLibrary,$INFO[Skin.String(customMusicAddon1)],return)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                                <onclick>setfocus(51)</onclick>
                            </item>
                            <item id="7">
                                <visible>!isempty(Skin.String(customMusicAddon2))</visible>
                                <label>$VAR[customMusicAddon2Title]</label>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon2Type),audioAddon)">RunAddon($INFO[Skin.String(customMusicAddon2)])</onclick>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon2Type),audioPlaylist)">ActivateWindow(MusicLibrary,$INFO[Skin.String(customMusicAddon2)],return)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                                <onclick>setfocus(51)</onclick>
                            </item>
                            <item id="8">
                                <visible>!isempty(Skin.String(customMusicAddon3))</visible>
                                <label>$VAR[customMusicAddon3Title]</label>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon3Type),audioAddon)">RunAddon($INFO[Skin.String(customMusicAddon3)])</onclick>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon3Type),audioPlaylist)">ActivateWindow(MusicLibrary,$INFO[Skin.String(customMusicAddon3)],return)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                                <onclick>setfocus(51)</onclick>
                            </item>
                            <item id="9">
                                <visible>!isempty(Skin.String(customMusicAddon4))</visible>
                                <label>$VAR[customMusicAddon4Title]</label>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon4Type),audioAddon)">RunAddon($INFO[Skin.String(customMusicAddon4)])</onclick>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon4Type),audioPlaylist)">ActivateWindow(MusicLibrary,$INFO[Skin.String(customMusicAddon4)],return)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                                <onclick>setfocus(51)</onclick>
                            </item>
                            <item id="10">
                                <visible>!isempty(Skin.String(customMusicAddon5))</visible>
                                <label>$VAR[customMusicAddon5Title]</label>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon5Type),audioAddon)">RunAddon($INFO[Skin.String(customMusicAddon5)])</onclick>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon5Type),audioPlaylist)">ActivateWindow(MusicLibrary,$INFO[Skin.String(customMusicAddon5)],return)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                                <onclick>setfocus(51)</onclick>
                            </item>
                            <item id="11">
                                <visible>!isempty(Skin.String(customMusicAddon6))</visible>
                                <label>$VAR[customMusicAddon6Title]</label>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon6Type),audioAddon)">RunAddon($INFO[Skin.String(customMusicAddon6)])</onclick>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon6Type),audioPlaylist)">ActivateWindow(MusicLibrary,$INFO[Skin.String(customMusicAddon6)],return)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                                <onclick>setfocus(51)</onclick>
                            </item>
                            <item id="12">
                                <visible>!isempty(Skin.String(customMusicAddon7))</visible>
                                <label>$VAR[customMusicAddon7Title]</label>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon7Type),audioAddon)">RunAddon($INFO[Skin.String(customMusicAddon7)])</onclick>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon7Type),audioPlaylist)">ActivateWindow(MusicLibrary,$INFO[Skin.String(customMusicAddon7)],return)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                                <onclick>setfocus(51)</onclick>
                            </item>
                            <item id="13">
                                <visible>!isempty(Skin.String(customMusicAddon8))</visible>
                                <label>$VAR[customMusicAddon8Title]</label>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon8Type),audioAddon)">RunAddon($INFO[Skin.String(customMusicAddon8)])</onclick>
                                <onclick condition="StringCompare(Skin.String(customMusicAddon8Type),audioPlaylist)">ActivateWindow(MusicLibrary,$INFO[Skin.String(customMusicAddon8)],return)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                                <onclick>setfocus(51)</onclick>
                            </item>
                            <!--final bits and bobs-->
                            <item id="21">
                                <label>31010</label>
                                <onclick>ReplaceWindow(MusicFiles,Addons,return)</onclick>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                                <onclick>setfocus(55)</onclick>
                            </item>
                            <item id="24">
                                <label>1036</label>
                                <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                                <onclick>ReplaceWindow(favourites)</onclick>
                            </item>
                        </content>
                    </control>
                </control>
                <!--Folder titles-->
                <control type="group">
                    <posx>col-4-begin</posx>
                    <posy>row-2-begin</posy>
                    <animation type="Conditional" condition="!IntegerGreaterThan(container.numitems,0)">
                        <effect type="fade" start="100" end="0" time="300" />
                    </animation>
                    <animation type="Conditional" condition="IntegerGreaterThan(container.numitems,0)">
                        <effect type="fade" start="0" end="100" time="300" />
                    </animation>
                    <!--source title-->
                    <control type="label">
                        <posx>0</posx>
                        <posy>0</posy>
                        <width>18-col</width>
                        <font>pageTitle</font>
                        <label>$VAR[listTitle]</label>
                        <textcolor>selected</textcolor>
                    </control>
                    <!--source subtitle-->
                    <control type="label">
                        <posx>0</posx>
                        <posy>45</posy>
                        <width>24-col</width>
                        <font>regular</font>
                        <label>$VAR[listSubTitle]</label>
                        <textcolor>selected</textcolor>
                    </control>
                </control>
                <!--Main content listing-->
                <control type="group" id="9999">
                    <posx>col-4-begin</posx>
                    <posy>row-2-begin</posy>
                    <animation type="windowopen">
                        <include>listSlideIn</include>
                    </animation>
                    <animation type="windowclose">
                        <effect type="fade" start="100" end="0" time="300" delay="300" />
                    </animation>
                    <!--source content-->
                    <control type="group" id="9500">
                        <include>viewMusicList</include>
                        <include>viewArtistList</include>
                        <include>viewSongList</include>
                        <include>viewMusicGrid</include>
                    </control>
                </control>
                <!--page scrollbar-->
                <control type="group" id="8000">
                    <visible>Control.IsVisible(60)</visible>
                    <animation effect="fade" start="100" end="0" time="100" condition="!controlgroup(8000).hasfocus">conditional</animation>
                    <control type="scrollbar" id="60">
                        <posx>108r</posx>
                        <posy>276</posy>
                        <height>672</height>
                        <onleft>9999</onleft>
                    </control>
                </control>
                <!--Sort / misc labels (footer)-->
                <control type="group">
                    <visible>SubString(skin.string(showRecentMusicItems),false)</visible>
                    <posx>col-4-begin</posx>
                    <posy>row-18-begin</posy>
                    <control type="grouplist">
                        <posx>0</posx>
                        <posy>-24</posy>
                        <width>24-col</width>
                        <height>1-row</height>
                        <itemgap>0</itemgap>
                        <onleft>50</onleft>
                        <onright>50</onright>
                        <onup>9999</onup>
                        <ondown>9999</ondown>
                        <orientation>horizontal</orientation>
                        <control type="label">
                            <width min="30" max="200">auto</width>
                            <font>symbol</font>
                            <textcolor>selected</textcolor>
                            <label></label>
                        </control>
                        <control type="label">
                            <width>3-col</width>
                            <font>buttonTitle</font>
                            <textcolor>selected</textcolor>
                            <label>$LOCALIZE[31038] $INFO[container.currentpage] / $INFO[container.numpages]</label>
                        </control>
                        <control type="label">
                            <visible>!isempty(ListItem.audiocodec)</visible>
                            <width min="30" max="200">auto</width>
                            <font>symbol</font>
                            <textcolor>selected</textcolor>
                            <label></label>
                        </control>
                        <control type="label">
                            <visible>!isempty(ListItem.audiocodec)</visible>
                            <width>2-col</width>
                            <font>buttonTitle</font>
                            <textcolor>selected</textcolor>
                            <label>$INFO[ListItem.audiocodec]</label>
                        </control>
                        <control type="label">
                            <visible>!isempty(ListItem.FileName)</visible>
                            <width min="30" max="200">auto</width>
                            <font>symbol</font>
                            <textcolor>selected</textcolor>
                            <label></label>
                        </control>
                        <control type="label">
                            <visible>!isempty(ListItem.FileName)</visible>
                            <width>12-col</width>
                            <font>buttonTitle</font>
                            <textcolor>selected</textcolor>
                            <label>$INFO[ListItem.FileName]</label>
                        </control>
                        <!--debugging-->
                        <control type="label">
                            <visible>false</visible>
                            <width>3-col</width>
                            <font>buttonTitle</font>
                            <label>$INFO[container.foldername]</label>
                            <textcolor>selected</textcolor>
                        </control>
                    </control>
					<include>optionsIndicator</include>
                </control>
            </control>
        </control>
        <!--sorting and misc controls-->
        <control type="group" id="61">
            <!--animations-->
            <animation type="Conditional" condition="!controlgroup(61).hasfocus">
                <effect type="fade" start="100" end="0" time="200" />
            </animation>
            <animation type="Conditional" condition="controlgroup(61).hasfocus">
                <effect type="fade" start="0" end="100" time="200" />
            </animation>
            <animation type="conditional" condition="window.next(1)">
                <effect type="fade" start="100" end="0" time="300" />
            </animation>
            <!--overlay-->
            <control type="image">
                <include>dimensionsFullscreen</include>
                <texture>backgrounds/vignette.png</texture>
                <colordiffuse>ffffffff</colordiffuse>
                <aspectratio>stretch</aspectratio>
            </control>
            <!--titles-->
            <control type="group">
                <posx>24</posx>
                <posy>111</posy>
                <animation type="Conditional" condition="controlgroup(62).hasfocus">
                    <effect type="fade" start="0" end="100" time="300" />
                    <effect type="slide" start="-100" end="0" tween="sine" easing="out" time="400" />
                </animation>
                <animation type="Conditional" condition="!controlgroup(62).hasfocus | Window.IsActive(5000)">
                    <effect type="fade" start="100" end="0" time="300" />
                    <effect type="slide" start="0" end="-100" tween="sine" easing="out" time="400" />
                </animation>
                <control type="image">
                    <posx>-96</posx>
                    <posy>-111</posy>
                    <width>col-5-begin</width>
                    <height>fullscreenHeight</height>
                    <aspectratio>stretch</aspectratio>
                    <texture>colors/selected.png</texture>
                    <colordiffuse>ffffffff</colordiffuse>
                    <bordersize>0</bordersize>
                </control>
                <control type="label">
                    <posx>0</posx>
                    <posy>0</posy>
                    <width>14-col</width>
                    <font>pageTitle</font>
                    <label>249</label>
                    <textcolor>black</textcolor>
                    <shadowcolor>-</shadowcolor>
                </control>
                <control type="label">
                    <posx>0</posx>
                    <posy>45</posy>
                    <width>24-col</width>
                    <font>regular</font>
                    <label>33063</label>
                    <textcolor>black</textcolor>
                    <shadowcolor>-</shadowcolor>
                </control>
                <!--menu-->
                <control type="grouplist" id="62">
                    <posx>-12</posx>
                    <posy>166</posy>
                    <width>4-col</width>
                    <height>10-row</height>
                    <itemgap>0</itemgap>
                    <onright>9000</onright>
                    <control type="button" id="106">
                        <description>current playlist (if available)</description>
                        <enable>MusicPlayer.Offset(0).Exists</enable>
                        <height>54</height>
                        <width>4-col</width>
                        <font>menuTitle</font>
                        <textcolor>black</textcolor>
                        <focusedcolor>selected</focusedcolor>
                        <texturefocus>colors/black.png</texturefocus>
                        <texturenofocus>colors/unselected.png</texturenofocus>
                        <textoffsetx>12</textoffsetx>
                        <label>31123</label>
                        <onclick>right</onclick>
                        <onclick>activateWindow(musicplaylist)</onclick>
                    </control>
                    <control type="button" id="101">
                        <description>Search</description>
                        <visible>System.HasAddon(script.globalsearch)</visible>
                        <height>54</height>
                        <width>4-col</width>
                        <font>menuTitle</font>
                        <textcolor>black</textcolor>
                        <focusedcolor>selected</focusedcolor>
                        <texturefocus>colors/black.png</texturefocus>
                        <texturenofocus>colors/unselected.png</texturenofocus>
                        <textoffsetx>12</textoffsetx>
                        <label>137</label>
                        <onclick>RunScript(script.globalsearch,artists=true&amp;albums=true)</onclick>
						<onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
						<onclick>right</onclick>
                    </control>
                    <control type="button" id="3">
                        <description>Sort by button</description>
                        <height>54</height>
                        <width>4-col</width>
                        <font>menuTitle</font>
                        <textcolor>black</textcolor>
                        <focusedcolor>selected</focusedcolor>
                        <texturefocus>colors/black.png</texturefocus>
                        <texturenofocus>colors/unselected.png</texturenofocus>
                        <textoffsetx>12</textoffsetx>
                        <label>103</label>
                    </control>
                    <control type="togglebutton" id="4">
                        <description>Sort asc</description>
                        <label>31109</label>
                        <altlabel>31110</altlabel>
                        <align>left</align>
                        <height>54</height>
                        <width>4-col</width>
                        <font>menuTitle</font>
                        <textcolor>black</textcolor>
                        <focusedcolor>selected</focusedcolor>
                        <texturefocus>colors/black.png</texturefocus>
                        <alttexturefocus>colors/black.png</alttexturefocus>
                        <texturenofocus>colors/unselected.png</texturenofocus>
                        <textoffsetx>12</textoffsetx>
                    </control>
                    <control type="button" id="102">
                        <height>54</height>
                        <width>4-col</width>
                        <font>menuTitle</font>
                        <textcolor>black</textcolor>
                        <focusedcolor>selected</focusedcolor>
                        <texturefocus>colors/black.png</texturefocus>
                        <texturenofocus>colors/unselected.png</texturenofocus>
                        <textoffsetx>12</textoffsetx>
                        <label>31041</label>
                        <onclick>Skin.SetString(menuItemTypeFilter,audio)</onclick>
                        <onclick>ActivateWindow(5000)</onclick>
                    </control>
                    <control type="button" id="103">
                        <description>Programs menu</description>
                        <height>54</height>
                        <width>4-col</width>
                        <font>menuTitle</font>
                        <textcolor>black</textcolor>
                        <focusedcolor>selected</focusedcolor>
                        <texturefocus>colors/black.png</texturefocus>
                        <texturenofocus>colors/unselected.png</texturenofocus>
                        <textoffsetx>12</textoffsetx>
                        <label>31003</label>
                        <onclick>right</onclick>
                        <onclick>ActivateWindow(programs,addons,return)</onclick>
                    </control>
                    <control type="button" id="107">
                        <height>54</height>
                        <width>4-col</width>
                        <font>menuTitle</font>
                        <textcolor>black</textcolor>
                        <focusedcolor>selected</focusedcolor>
                        <texturefocus>colors/black.png</texturefocus>
                        <texturenofocus>colors/unselected.png</texturenofocus>
                        <textoffsetx>12</textoffsetx>
                        <label>653</label>
                        <onclick>UpdateLibrary(music)</onclick>
                        <onclick>right</onclick>
                    </control>
                    <control type="button" id="104">
                        <description>Files menu</description>
                        <height>54</height>
                        <width>4-col</width>
                        <font>menuTitle</font>
                        <textcolor>black</textcolor>
                        <focusedcolor>selected</focusedcolor>
                        <texturefocus>colors/black.png</texturefocus>
                        <texturenofocus>colors/unselected.png</texturenofocus>
                        <textoffsetx>12</textoffsetx>
                        <label>1214</label>
                        <onclick>right</onclick>
                        <onclick>ActivateWindow(MusicFiles,root)</onclick>
                        <onclick>Skin.SetString(showRecentMusicItems,false)</onclick>
                    </control>
                    <!--shuffle and party mode-->
                    <control type="button" id="105">
                        <description>Shuffle</description>
                        <height>54</height>
                        <width>4-col</width>
                        <font>menuTitle</font>
                        <textcolor>black</textcolor>
                        <focusedcolor>selected</focusedcolor>
                        <texturefocus>colors/black.png</texturefocus>
                        <texturenofocus>colors/unselected.png</texturenofocus>
                        <textoffsetx>12</textoffsetx>
                        <label>191</label>
                        <onclick>right</onclick>
                        <onclick>PlayerControl(random)</onclick>
                    </control>
                    <control type="radiobutton" id="16">
                        <description>Party Mode!!</description>
                        <label>589</label>
                        <height>54</height>
                        <width>4-col</width>
                        <font>menuTitle</font>
                        <textcolor>black</textcolor>
                        <focusedcolor>selected</focusedcolor>
                        <texturefocus>colors/black.png</texturefocus>
                        <texturenofocus>colors/unselected.png</texturenofocus>
                    </control>
                </control>
            </control>
        </control>
		<!--loading indicator-->
        <include>loadingIndicator</include>
        <!--debugging-->
        <include>Debug_Grid</include>
        <control type="label">
            <include>WindowID</include>
            <label>MyMusicSongs.xml</label>
        </control>
    </controls>
</window>